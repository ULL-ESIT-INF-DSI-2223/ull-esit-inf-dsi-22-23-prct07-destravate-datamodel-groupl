<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>doc-test</title><meta name="description" content="Documentation for doc-test"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">doc-test</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>doc-test</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#práctica-7----destravate" id="práctica-7----destravate" style="color: inherit; text-decoration: none;">
  <h1>Práctica 7  - DeStravaTe</h1>
</a>

<a href="#autores" id="autores" style="color: inherit; text-decoration: none;">
  <h2>Autores</h2>
</a>
<ul>
<li>Alberto Zarza Martín (<a href="mailto:alu0101412993@ull.edu.es">alu0101412993@ull.edu.es</a>)</li>
<li>Ismael Martín Herrera (<a href="mailto:alu0101397375@ull.edu.es">alu0101397375@ull.edu.es</a>)</li>
</ul>

<a href="#introducción" id="introducción" style="color: inherit; text-decoration: none;">
  <h2>Introducción</h2>
</a>
<p>En esta práctica se he desarrollado la primera práctica en grupo de la asignatura de DSI. El objetivo de la práctica es crear un sistema de información que permita almacenar registros de actividades deportivas. Para ello utilizaremos typescript, así como los modulos Inquirer para la interacción con el usuario y LowDB para la gestión de la base de datos.</p>

<a href="#dispositivo-de-trabajo" id="dispositivo-de-trabajo" style="color: inherit; text-decoration: none;">
  <h2>Dispositivo de trabajo</h2>
</a>
<p>Para el desarrollo de esta práctica hemos utilizado un sistema operativo Ubuntu por lo cual algunos de los pasos realizados solo estarán disponibles para los usuarios que utilicen este sistema operativo.</p>

<a href="#organización-del-trabajo-y-estructura-del-proyecto" id="organización-del-trabajo-y-estructura-del-proyecto" style="color: inherit; text-decoration: none;">
  <h2>Organización del trabajo y estructura del proyecto</h2>
</a>
<p>En cuanto a la estructra de directorios, en la raíz del proyecto se encuentra el archivo README.md que contiene la información de la práctica. 
En la carpeta src se encuentra el código fuente de la práctica.
  Dentro encontramos los siguientes archivos:</p>
<ul>
<li>funcionesIquirer.ts -&gt; contiene las funciones que se encargan de la interacción con el usuario</li>
<li>gestor -&gt; contiene la clase gestor que se encarga de la gestión del sistema</li>
<li>group -&gt; contiene la clase group, la clase groupCollection y la gestion de la base de datos de la collection JsonGroupCollection</li>
<li>route -&gt; contiene la clase route, la clase routeCollection y la gestion de la base de datos de la collection JsonRouteCollection</li>
<li>user -&gt; contiene la clase user, la clase userCollection y la gestion de la base de datos de la collection JsonUserCollection</li>
<li>retos -&gt; contiene la clase retos, la clase retosCollection y la gestion de la base de datos de la collection JsonRetosCollection
En la carpeta db se encuentran las bases de datos de la práctica. 
  Dentro encontramos los siguientes archivos:</li>
<li>JSONGroupCollection.json -&gt; contiene la base de datos de los grupos</li>
<li>JSONRouteCollection.json -&gt; contiene la base de datos de las rutas</li>
<li>JSONUserCollection.json -&gt; contiene la base de datos de los usuarios</li>
<li>JSONRetosCollection.json -&gt; contiene la base de datos de los retos
En la carpeta test se encuentra el código de los test de la práctica.</li>
</ul>

<a href="#requisitos-del-sistema-de-información" id="requisitos-del-sistema-de-información" style="color: inherit; text-decoration: none;">
  <h2>Requisitos del sistema de información</h2>
</a>
<p>El sistema tendrá que poder almacenar 4 grandes tipos de datos:</p>
<ul>
<li>Usuarios</li>
<li>Retos</li>
<li>Grupos</li>
<li>Rutas</li>
</ul>
<p>Para lograr esto lo más óptimo que hemos considerado es crear para cada tipo de dato una clase que contenga los atributos necesarios para almacenar la información de cada uno de ellos. A continuación se detallan cada una de las clases:</p>

<a href="#usuario" id="usuario" style="color: inherit; text-decoration: none;">
  <h3>Usuario</h3>
</a>
<p>En cuanto a los usuarios, se ha decidido almacenar la información de cada uno de ellos en una clase que contenga los siguientes atributos:</p>
<ul>
<li>id -&gt; identificador del usuario</li>
<li>userName -&gt; nombre del usuario</li>
<li>activities -&gt; array de actividades del usuario</li>
<li>friends -&gt; array de ids de los amigos del usuario</li>
<li>groups -&gt; array de ids de los grupos a los que pertenece el usuario</li>
<li>stats -&gt; estadísticas de cantidad de km y desnivel total por día, mes y año actual</li>
<li>favouriteRoutes -&gt; array de ids de las rutas favoritas del usuario</li>
<li>challenges -&gt; array de ids de los retos a los que pertenece el usuario</li>
<li>historic -&gt; histórico de rutas de un día</li>
</ul>
<p>La clase queda de la siguiente manera:</p>
<pre><code class="language-typescript"><span class="hl-0">/**</span><br/><span class="hl-0"> * Clase para representar a un usuario del sistema </span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">User</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">id_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">;  </span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">userName_</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">activities_</span><span class="hl-2">: </span><span class="hl-4">Actividad</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">friends_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">groups_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">stats_</span><span class="hl-2">: </span><span class="hl-4">stats</span><span class="hl-2">; </span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">favouriteRoutes_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">challenges_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">historic_</span><span class="hl-2">: </span><span class="hl-4">historic</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">}</span>
</code></pre>
<p>El esquema básico de la clase usuario es el que podemos ver arriba, no obstante en la clase disponemos para cada atributo de un getter y un setter para poder acceder a ellos y modificarlos. Esto nos permite tener un control sobre los datos que se almacenan en la base de datos.</p>
<p>También se ha decidido crear un tipo para las estadísticas de cantidad de km y desnivel total por día, mes y año actual. Este tipo se ha definido como sigue:</p>
<pre><code class="language-typescript"><span class="hl-0">/**</span><br/><span class="hl-0"> * Tipo que permite determinar las estadísticas de cantidad de km y desnivel total por día, mes y año actual</span><br/><span class="hl-0"> * [km, desnivel]</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2"> </span><span class="hl-4">stats</span><span class="hl-2"> = [[</span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-4">number</span><span class="hl-2">], [</span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-4">number</span><span class="hl-2">], [</span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-4">number</span><span class="hl-2">]];</span>
</code></pre>
<p>La lógica de este tipo es la siguiente:</p>
<ul>
<li>[[km, desnivel], [km, desnivel], [km, desnivel]] -&gt; [[km, desnivel] del día actual, [km, desnivel] del mes actual, [km, desnivel] del año actual]</li>
</ul>
<p>Además, se ha decidido crear un tipo para el histórico de rutas de un día. Este tipo se ha definido como sigue:</p>
<pre><code class="language-typescript"><span class="hl-0">/**</span><br/><span class="hl-0"> * Tipo para guardar el histórico de rutas de un día</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2"> </span><span class="hl-4">historic</span><span class="hl-2"> = [</span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-4">number</span><span class="hl-2">[]];</span><br/>
</code></pre>
<p>La lógica de este tipo es la siguiente:</p>
<ul>
<li>[fecha, [ids de las rutas]] -&gt; [fecha en la que se han realizado las rutas, [ids de las rutas]]</li>
</ul>

<a href="#reto" id="reto" style="color: inherit; text-decoration: none;">
  <h3>Reto</h3>
</a>
<p>Para los retos se ha decidido almacenar la información de cada uno de ellos en una clase que contenga los siguientes atributos:</p>
<ul>
<li>id -&gt; identificador del reto</li>
<li>nombre -&gt; nombre del reto</li>
<li>rutasRetos -&gt; array de ids de las rutas que forman el reto</li>
<li>tipoActividad -&gt; tipo de actividad del reto</li>
<li>kmTotales -&gt; kilometros totales del reto</li>
<li>idUsersRetos -&gt; array de ids de los usuarios que participan en el reto</li>
</ul>
<p>La clase queda de la siguiente manera:</p>
<pre><code class="language-typescript"><br/><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Retos</span><span class="hl-2">{</span><br/><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">nombre</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">rutasRetos</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[];</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">tipoActividad</span><span class="hl-2">: </span><span class="hl-4">Actividad</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">kmTotales</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">idUsersRetos</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[];</span><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>El esquema básico de la clase reto es el que podemos ver arriba, no obstante en la clase disponemos para cada atributo de un getter y un setter para poder acceder a ellos y modificarlos. Esto nos permite tener un control sobre los datos que se almacenan en la base de datos.</p>

<a href="#grupo" id="grupo" style="color: inherit; text-decoration: none;">
  <h3>Grupo</h3>
</a>
<p>Para los grupos se ha decidido almacenar la información de cada uno de ellos en una clase que contenga los siguientes atributos:</p>
<ul>
<li>id -&gt; identificador del grupo</li>
<li>nombre -&gt; nombre del grupo</li>
<li>participantesGrupo -&gt; array de ids de los usuarios que pertenecen al grupo</li>
<li>estadisticaGrupalEntrenamiento -&gt; array de estadisticas de entrenamiento de los usuarios del grupo</li>
<li>clasificacionUsuario -&gt; array de ids de los usuarios del grupo ordenados por su clasificación</li>
<li>idRutasFavorita -&gt; array de ids de las rutas favoritas de los usuarios del grupo</li>
<li>todasRutasUsuarios -&gt; array de ids de todas las rutas de los usuarios del grupo</li>
<li>creator -&gt; booleano que indica si el usuario que crea el grupo es el creador del grupo</li>
<li>idCreator -&gt; id del usuario que crea el grupo</li>
<li>historico_ -&gt; Almacena el historial de rutas por días del grupo</li>
</ul>
<p>La clase queda de la siguiente manera:</p>
<pre><code class="language-typescript"><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Grupo</span><span class="hl-2"> {</span><br/><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">id_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">;</span><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">nombre_</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">participantesGrupo_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[];</span><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">estadisticaGrupalEntrenamiento_</span><span class="hl-2">: [</span><span class="hl-4">EstadisticasEntrenamiento</span><span class="hl-2">,</span><span class="hl-4">EstadisticasEntrenamiento</span><span class="hl-2">,</span><span class="hl-4">EstadisticasEntrenamiento</span><span class="hl-2">];</span><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">clasificacionUsuario_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[];</span><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">idRutasFavorita_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[];</span><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">todasRutasUsuarios_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[];</span><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">creator_</span><span class="hl-2"> = </span><span class="hl-3">true</span><span class="hl-2">;</span><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">idCreator_</span><span class="hl-2"> = </span><span class="hl-6">0</span><span class="hl-2">;</span><br/><span class="hl-2"> </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">historico_</span><span class="hl-2">: </span><span class="hl-4">historic</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>El esquema básico de la clase grupo es el que podemos ver arriba, no obstante en la clase disponemos para cada atributo de un getter y un setter para poder acceder a ellos y modificarlos. Esto nos permite tener un control sobre los datos que se almacenan en la base de datos.</p>
<p>Además, se ha decidido crear un tipo para las estadísticas de entrenamiento de los usuarios del grupo. Este tipo se ha definido como sigue:</p>
<pre><code class="language-typescript"><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2"> </span><span class="hl-4">EstadisticasEntrenamiento</span><span class="hl-2"> = [</span><span class="hl-4">number</span><span class="hl-2">,</span><span class="hl-4">number</span><span class="hl-2">];</span><br/>
</code></pre>
<p>La lógica de este tipo es la siguiente:</p>
<ul>
<li>[km, desnivel] -&gt; [km totales, desnivel total]</li>
</ul>

<a href="#ruta" id="ruta" style="color: inherit; text-decoration: none;">
  <h3>Ruta</h3>
</a>
<p>Para las rutas se hemos decidido almacenar la información de cada una de ellas en una clase que contenga los siguientes atributos:</p>
<ul>
<li>idRuta -&gt; identificador de la ruta</li>
<li>nombreRuta -&gt; nombre de la ruta</li>
<li>geoInicio -&gt; coordenadas de inicio de la ruta</li>
<li>geoFin -&gt; coordenadas de fin de la ruta</li>
<li>longitudRutaKm -&gt; longitud de la ruta en km</li>
<li>desnivelMedio -&gt; desnivel medio de la ruta</li>
<li>idUsuariosRuta -&gt; array de ids de los usuarios que han realizado la ruta</li>
<li>tipoActividad -&gt; tipo de actividad de la ruta</li>
<li>calificacionMediaRuta -&gt; calificación media de la ruta</li>
</ul>
<p>La clase queda de la siguiente manera:</p>
<pre><code class="language-typescript"><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Clase que representa una ruta</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Route</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">idRuta_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">nombreRuta_</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">geoInicio_</span><span class="hl-2">: </span><span class="hl-4">GeoLocalization</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">geoFin_</span><span class="hl-2">: </span><span class="hl-4">GeoLocalization</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">longitudRutaKm_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">desnivelMedio_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">idUsuariosRuta_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[],</span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">tipoActividad_</span><span class="hl-2">: </span><span class="hl-4">Actividad</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">calificacionMediaRuta_</span><span class="hl-2">: </span><span class="hl-4">number</span><br/><span class="hl-2">  ) {</span><br/><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span>
</code></pre>
<p>El esquema básico de la clase ruta es el que podemos ver arriba, no obstante en la clase disponemos para cada atributo de un getter y un setter para poder acceder a ellos y modificarlos. Esto nos permite tener un control sobre los datos que se almacenan en la base de datos.</p>
<p>En esta clase se ha decidido crear un tipo para las coordenadas de inicio y fin de la ruta. Este tipo se ha definido como sigue:</p>
<pre><code class="language-typescript"><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Tipo para representar una coordenada</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2"> </span><span class="hl-4">GeoLocalization</span><span class="hl-2"> = [</span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-4">number</span><span class="hl-2">];</span><br/><span class="hl-2">  </span>
</code></pre>
<p>La lógica de este tipo es la siguiente:</p>
<pre><code><span class="hl-2">* [</span><span class="hl-5">latitud</span><span class="hl-2">, </span><span class="hl-5">longitud</span><span class="hl-2">] -&gt; [</span><span class="hl-5">latitud</span><span class="hl-2">, </span><span class="hl-5">longitud</span><span class="hl-2">]</span>
</code></pre>
<p>También se ha decidido crear un tipo para el tipo de actividad de la ruta. Este tipo se ha definido como sigue:</p>
<pre><code class="language-typescript"><span class="hl-0">/**</span><br/><span class="hl-0"> * Tipo que permite determina el tipo de actividad</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2"> </span><span class="hl-4">Actividad</span><span class="hl-2"> = </span><span class="hl-7">&quot;bicicleta&quot;</span><span class="hl-2"> | </span><span class="hl-7">&quot;correr&quot;</span><span class="hl-2">;</span><br/>
</code></pre>
<p>La lógica de este tipo es la siguiente:</p>
<ul>
<li>&quot;bicicleta&quot; | &quot;correr&quot; -&gt; &quot;bicicleta&quot; o &quot;correr&quot;</li>
</ul>

<a href="#funcionalidades-del-sistema-de-información" id="funcionalidades-del-sistema-de-información" style="color: inherit; text-decoration: none;">
  <h2>Funcionalidades del sistema de información</h2>
</a>
<p>Una vez definidos los tipos de datos que se van a almacenar en la base de datos, se ha procedido a definir las funcionalidades que se van a implementar en el sistema de información. Estas funcionalidades se han dividido en tres grandes grupos:</p>
<ul>
<li>Funcionalidades de usuario</li>
<li>Funcionalidades de grupo</li>
<li>Funcionalidades de retos</li>
</ul>
<p>Para poder implementar las funcionalidades de cada clase se ha decidido crear una clase para cada una de ellas. Estas clases se han definido de la siguiente manera:</p>
<ul>
<li>UsuarioCollection</li>
<li>GrupoCollection</li>
<li>RetoCollection</li>
<li>RutaCollection</li>
</ul>
<p>Cada una de ellas nos permite crear sus propios metodos para gestionar el conjunto de objetos de cada una de las clases.</p>

<a href="#funcionalidades-de-usuario" id="funcionalidades-de-usuario" style="color: inherit; text-decoration: none;">
  <h3>Funcionalidades de usuario</h3>
</a>
<p>Para las funcionalidades de usuario se ha decidido implementar los siguientes métodos:</p>
<pre><code class="language-typescript"><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">userCollection</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">userMap</span><span class="hl-2"> = </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">Map</span><span class="hl-2">&lt;</span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-4">User</span><span class="hl-2">&gt;();</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-5">userItems</span><span class="hl-2">: </span><span class="hl-4">User</span><span class="hl-2">[] = []) {</span><br/><span class="hl-2">    </span><span class="hl-5">userItems</span><span class="hl-2">.</span><span class="hl-8">forEach</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2"> </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">Id</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-5">userItems</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2"> + </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   *  Devuelve el siguiente id</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> nextId</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">addUser</span><span class="hl-2">(</span><span class="hl-5">user</span><span class="hl-2">: </span><span class="hl-4">User</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2">++, </span><span class="hl-5">user</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   *  Añade un usuario a la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{User}</span><span class="hl-0"> </span><span class="hl-5">user</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{void}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">getUser</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">get</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   *  Devuelve un usuario de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> </span><span class="hl-5">id</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">getAllUsers</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Devuelve todos los usuarios de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{User[]}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderUsersAlfabeticallAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">users</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">userName</span><span class="hl-2">.</span><span class="hl-8">localeCompare</span><span class="hl-2">(</span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">userName</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">users</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   *  Devuelve un usuario de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> </span><span class="hl-5">id</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">getAllUsers</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-8">eraseUser</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">delete</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-8">changeUserByID</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-5">user</span><span class="hl-2">: </span><span class="hl-4">User</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">, </span><span class="hl-5">user</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Ordena los usuarios alfabeticamente de forma ascendente</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{User[]}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderUsersAlfabeticallDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">users</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">userName</span><span class="hl-2">.</span><span class="hl-8">localeCompare</span><span class="hl-2">(</span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">userName</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">users</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Ordena los usuarios alfabeticamente de forma descendente</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{User[]}</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderUsersByKMDayAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">users</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">0</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">0</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">users</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Ordena los usuarios por kilometros recorridos en un día de forma ascendente</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{User[]}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderUsersByKMDayDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">users</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">0</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">0</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">users</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Ordena los usuarios por kilometros recorridos en un día de forma descendente</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{User[]}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderUsersByKMMonthAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">users</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">1</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">1</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">users</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Ordena los usuarios por kilometros recorridos en un mes de forma ascendente</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{User[]}</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderUsersByKMMonthDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">users</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">1</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">1</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">users</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Ordena los usuarios por kilometros recorridos en un mes de forma descendente</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{User[]}</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderUsersByKMYearAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">users</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">2</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">2</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">users</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Ordena los usuarios por kilometros recorridos en un año de forma ascendente</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{User[]}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderUsersByKMYearDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">users</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">2</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">[</span><span class="hl-6">2</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">    </span><span class="hl-5">users</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">users</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">}</span>
</code></pre>
<p>La lógica de estos métodos es la siguiente:</p>
<ul>
<li>addUser -&gt; añade un objeto a la base de datos</li>
<li>getUser -&gt; obtiene un objeto de la base de datos</li>
<li>getAllUsers -&gt; obtiene todos los objetos de la base de datos</li>
<li>eraseUser -&gt; permite borrar un usuario de la colección</li>
<li>changeUserById -&gt; permite reemplazar a un usuario actualizando su información</li>
<li>orderUsersAlfabeticallAsc -&gt; ordena los usuarios alfabeticamente de forma ascendente</li>
<li>orderUsersAlfabeticallDesc -&gt; ordena los usuarios alfabeticamente de forma descendente</li>
<li>orderUsersByKMDayAsc -&gt; ordena los usuarios por kilometros recorridos en un día de forma ascendente</li>
<li>orderUsersByKMDayDesc -&gt; ordena los usuarios por kilometros recorridos en un día de forma descendente</li>
<li>orderUsersByKMMonthAsc -&gt; ordena los usuarios por kilometros recorridos en un mes de forma ascendente</li>
<li>orderUsersByKMMonthDesc -&gt; ordena los usuarios por kilometros recorridos en un mes de forma descendente</li>
<li>orderUsersByKMYearAsc -&gt; ordena los usuarios por kilometros recorridos en un año de forma ascendente</li>
<li>orderUsersByKMYearDesc -&gt; ordena los usuarios por kilometros recorridos en un año de forma descendente</li>
</ul>

<a href="#funcionalidades-de-grupo" id="funcionalidades-de-grupo" style="color: inherit; text-decoration: none;">
  <h3>Funcionalidades de grupo</h3>
</a>
<p>Para las funcionalidades de grupo se ha decidido implementar los siguientes métodos:</p>
<pre><code class="language-typescript"><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">groupCollection</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">groupMap</span><span class="hl-2"> = </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">Map</span><span class="hl-2">&lt;</span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-4">Grupo</span><span class="hl-2">&gt;();</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-5">groupItems</span><span class="hl-2">: </span><span class="hl-4">Grupo</span><span class="hl-2">[] = []) {</span><br/><span class="hl-2">    </span><span class="hl-5">groupItems</span><span class="hl-2">.</span><span class="hl-8">forEach</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2"> </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">Id</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-5">groupItems</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2"> + </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">group</span><span class="hl-0">  Grupo a añadir</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">addGroup</span><span class="hl-2">(</span><span class="hl-5">group</span><span class="hl-2">: </span><span class="hl-4">Grupo</span><span class="hl-2">): </span><span class="hl-4">void</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2">++, </span><span class="hl-5">group</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">group</span><span class="hl-0"> Grupo a añadir si ya existe</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">addExistedGroup</span><span class="hl-2">(</span><span class="hl-5">group</span><span class="hl-2">: </span><span class="hl-4">Grupo</span><span class="hl-2">): </span><span class="hl-4">void</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">group</span><span class="hl-2">.</span><span class="hl-5">Id</span><span class="hl-2">, </span><span class="hl-5">group</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> Id del grupo a borrar</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">ereaseGroup</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">): </span><span class="hl-4">void</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">delete</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> Id del grupo a cambiar</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">group</span><span class="hl-0">  Grupo nuevo</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">changeGroupByID</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-5">group</span><span class="hl-2">: </span><span class="hl-4">Grupo</span><span class="hl-2">): </span><span class="hl-4">void</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">, </span><span class="hl-5">group</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> Id del grupo a buscar</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Grupo buscado</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">getGroup</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">): </span><span class="hl-4">Grupo</span><span class="hl-2"> | </span><span class="hl-4">undefined</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">get</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupASC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">Id</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">Id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupDESC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">Id</span><span class="hl-2"> - </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">Id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupByKMWeekASC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">0</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">0</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupByKMMonthASC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">1</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">1</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupByKMYearASC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">2</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">2</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupByKMWeekDESC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">0</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">0</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupByKMMonthDESC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">1</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">1</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupByKMYearDESC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">2</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">] - </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">EstadisticaGrupalEntrenamiento</span><span class="hl-2">[</span><span class="hl-6">2</span><span class="hl-2">][</span><span class="hl-6">0</span><span class="hl-2">]);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupByNumberMembersASC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">ParticipantesGrupo</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">- </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">ParticipantesGrupo</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Devuelve todos los grupos</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderGroupByNumberMembersDESC</span><span class="hl-2">(): </span><span class="hl-4">Grupo</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()).</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">ParticipantesGrupo</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2"> - </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">ParticipantesGrupo</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>La lógica de estos métodos es la siguiente:</p>
<ul>
<li>addGroup -&gt; añade un objeto a la base de datos</li>
<li>getGroup -&gt; obtiene un objeto de la base de datos</li>
<li>orderGroupASC -&gt; ordena los grupos por id de forma ascendente</li>
<li>orderGroupDESC -&gt; ordena los grupos por id de forma descendente</li>
<li>orderGroupByKMWeekASC -&gt; ordena los grupos por kilometros recorridos en una semana de forma ascendente</li>
<li>orderGroupByKMWeekDESC -&gt; ordena los grupos por kilometros recorridos en una semana de forma descendente</li>
<li>orderGroupByKMMonthASC -&gt; ordena los grupos por kilometros recorridos en un mes de forma ascendente</li>
<li>orderGroupByKMMonthDESC -&gt; ordena los grupos por kilometros recorridos en un mes de forma descendente</li>
<li>orderGroupByKMYearASC -&gt; ordena los grupos por kilometros recorridos en un año de forma ascendente</li>
<li>orderGroupByKMYearDESC -&gt; ordena los grupos por kilometros recorridos en un año de forma descendente</li>
<li>orderGroupByNumberMembersASC -&gt; ordena los grupos por número de miembros de forma ascendente</li>
<li>orderGroupByNumberMembersDESC -&gt; ordena los grupos por número de miembros de forma descendente</li>
<li>ereaseGroup -&gt; elimina un objeto de la base de datos</li>
<li>changeGroupByID -&gt; actualiza un objeto de la base de datos</li>
<li>addExistedGroup -&gt; añade un objeto a la base de datos</li>
</ul>

<a href="#funcionalidades-de-rutas" id="funcionalidades-de-rutas" style="color: inherit; text-decoration: none;">
  <h3>Funcionalidades de Rutas</h3>
</a>
<p>Para las funcionalidades de rutas se ha decidido implementar los siguientes métodos:</p>
<pre><code class="language-typescript"><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">routeCollection</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">routeMap</span><span class="hl-2"> = </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">Map</span><span class="hl-2">&lt;</span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-4">Route</span><span class="hl-2">&gt;();</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-5">routeItems</span><span class="hl-2">: </span><span class="hl-4">Route</span><span class="hl-2">[] = []) {</span><br/><span class="hl-2">    </span><span class="hl-5">routeItems</span><span class="hl-2">.</span><span class="hl-8">forEach</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2"> </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">idRuta</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-5">routeItems</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2"> + </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">addRoute</span><span class="hl-2">(</span><span class="hl-5">route</span><span class="hl-2">: </span><span class="hl-4">Route</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2">++, </span><span class="hl-5">route</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">getRoute</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">get</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">getAllRoutes</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">    </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Deletes a route from the collection</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">ereaseRoute</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">delete</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Changes a route from the collection</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> Id de la ruta a cambiar</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">route</span><span class="hl-0"> Ruta nueva</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">changeRouteById</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-5">route</span><span class="hl-2">: </span><span class="hl-4">Route</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-8">ereaseRoute</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">, </span><span class="hl-5">route</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderRoutesAlfabeticallAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">nombreRuta</span><span class="hl-2">.</span><span class="hl-8">localeCompare</span><span class="hl-2">(</span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">nombreRuta</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderRoutesAlfabeticallDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">nombreRuta</span><span class="hl-2">.</span><span class="hl-8">localeCompare</span><span class="hl-2">(</span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">nombreRuta</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">amountUserAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">idUsuariosRuta</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">idUsuariosRuta</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;   </span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">amountUserDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">idUsuariosRuta</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">idUsuariosRuta</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderRoutesByLengthAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">longitudRutaKm</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">longitudRutaKm</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderRoutesByLengthDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">longitudRutaKm</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">longitudRutaKm</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderRoutesByCalificationAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">calificacionMediaRuta</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">calificacionMediaRuta</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderRoutesByCalificationDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">calificacionMediaRuta</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">calificacionMediaRuta</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderRoutesByActivityAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">tipoActividad</span><span class="hl-2">.</span><span class="hl-8">localeCompare</span><span class="hl-2">(</span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">tipoActividad</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> the next id to be used</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderRoutesByActivityDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">routes</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">tipoActividad</span><span class="hl-2">.</span><span class="hl-8">localeCompare</span><span class="hl-2">(</span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">tipoActividad</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-5">routes</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">routes</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>La lógica de estos métodos es la siguiente:</p>
<ul>
<li>addRoute -&gt; añade un objeto a la base de datos</li>
<li>getRoute -&gt; obtiene un objeto de la base de datos</li>
<li>getAllRoutes -&gt; obtiene todos los objetos de la base de datos</li>
<li>orderRoutesAlfabeticallAsc -&gt; ordena las rutas alfabéticamente de forma ascendente</li>
<li>eraseRoute -&gt; permite borrar una ruta de la colección</li>
<li>changeRouteById -&gt; permite reemplazar una ruta por si misma modificada. </li>
<li>orderRoutesAlfabeticallDesc -&gt; ordena las rutas alfabéticamente de forma descendente</li>
<li>amountUserAsc -&gt; ordena las rutas por número de usuarios de forma ascendente</li>
<li>amountUserDesc -&gt; ordena las rutas por número de usuarios de forma descendente</li>
<li>orderRoutesByLengthAsc -&gt; ordena las rutas por longitud de forma ascendente</li>
<li>orderRoutesByLengthDesc -&gt; ordena las rutas por longitud de forma descendente</li>
<li>orderRoutesByCalificationAsc -&gt; ordena las rutas por calificación de forma ascendente</li>
<li>orderRoutesByCalificationDesc -&gt; ordena las rutas por calificación de forma descendente</li>
<li>orderRoutesByActivityAsc -&gt; ordena las rutas por actividad de forma ascendente</li>
<li>orderRoutesByActivityDesc -&gt; ordena las rutas por actividad de forma descendente</li>
</ul>

<a href="#funcionalidades-de-retos" id="funcionalidades-de-retos" style="color: inherit; text-decoration: none;">
  <h3>Funcionalidades de Retos</h3>
</a>
<p>Para las funcionalidades de retos se ha decidido implementar los siguientes métodos:</p>
<pre><code class="language-typescript"><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">retosCollection</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">retosMap</span><span class="hl-2"> = </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">Map</span><span class="hl-2">&lt;</span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-4">Retos</span><span class="hl-2">&gt;();</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-5">retosItems</span><span class="hl-2">: </span><span class="hl-4">Retos</span><span class="hl-2">[] = []) {</span><br/><span class="hl-2">    </span><span class="hl-5">retosItems</span><span class="hl-2">.</span><span class="hl-8">forEach</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2"> </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-8">getId</span><span class="hl-2">(), </span><span class="hl-5">item</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-5">retosItems</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2"> + </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   *  Método que añade un reto a la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{Retos}</span><span class="hl-0"> </span><span class="hl-5">reto</span><span class="hl-0"> - Reto a añadir</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{void}</span><span class="hl-0"> </span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">addRetos</span><span class="hl-2">(</span><span class="hl-5">reto</span><span class="hl-2">: </span><span class="hl-4">Retos</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2">++, </span><span class="hl-5">reto</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">    </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">reto</span><span class="hl-0"> Reto a añadir si ya existe</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">addExistedRetos</span><span class="hl-2">(</span><span class="hl-5">reto</span><span class="hl-2">: </span><span class="hl-4">Retos</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">reto</span><span class="hl-2">.</span><span class="hl-8">getId</span><span class="hl-2">(), </span><span class="hl-5">reto</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-8">eraseRetos</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">delete</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   *  Método que elimina un reto de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> - Id del reto a eliminar</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{void}</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">getRetos</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">get</span><span class="hl-2">(</span><span class="hl-5">id</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   *  Método que elimina un reto de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> - Id del reto a eliminar</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{void}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderAlfabeticallRetosAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">retos</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">retos</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-8">getNombre</span><span class="hl-2">().</span><span class="hl-8">localeCompare</span><span class="hl-2">(</span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-8">getNombre</span><span class="hl-2">()));</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">retos</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Método que elimina un reto de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> - Id del reto a eliminar</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{void}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderAlfabeticallRetosDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">retos</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-5">retos</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-8">getNombre</span><span class="hl-2">().</span><span class="hl-8">localeCompare</span><span class="hl-2">(</span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-8">getNombre</span><span class="hl-2">()));</span><br/><span class="hl-2">    </span><span class="hl-5">retos</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">retos</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Método que elimina un reto de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> - Id del reto a eliminar</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderDistanceAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">retos</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">retos</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-8">getKmTotales</span><span class="hl-2">() - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-8">getKmTotales</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">retos</span><span class="hl-2">;   </span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Método que elimina un reto de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> - Id del reto a eliminar</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{void}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderDistanceDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">retos</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">retos</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-8">getKmTotales</span><span class="hl-2">() - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-8">getKmTotales</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">retos</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">retos</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Método que elimina un reto de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> - Id del reto a eliminar</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{void}</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderCantidadUsuariosAsc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">retos</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">retos</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-8">getIdUsersRetos</span><span class="hl-2">().</span><span class="hl-5">length</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-8">getIdUsersRetos</span><span class="hl-2">().</span><span class="hl-5">length</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">retos</span><span class="hl-2">;   </span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Método que elimina un reto de la colección</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{number}</span><span class="hl-0"> </span><span class="hl-5">id</span><span class="hl-0"> - Id del reto a eliminar</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><span class="hl-4">{void}</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">orderCantidadUsuariosDesc</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">retos</span><span class="hl-2"> = </span><span class="hl-5">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-5">retos</span><span class="hl-2">.</span><span class="hl-8">sort</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-8">getIdUsersRetos</span><span class="hl-2">().</span><span class="hl-5">length</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-8">getIdUsersRetos</span><span class="hl-2">().</span><span class="hl-5">length</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">retos</span><span class="hl-2">.</span><span class="hl-8">reverse</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">retos</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span>
</code></pre>
<p>La lógica de estos métodos es la siguiente:</p>
<ul>
<li>addRetos -&gt; añade un objeto a la base de datos</li>
<li>getRetos -&gt; obtiene un objeto de la base de datos</li>
<li>addExistedRetos -&gt; añade un objeto a la base de datos si ya existe, pero nos permite modificarlo antes pero manteniendo el mismo id</li>
<li>eraseRetos -&gt; elimina un objeto de la base de datos</li>
<li>orderAlfabeticallRetosAsc -&gt; ordena los retos alfabéticamente de forma ascendente</li>
<li>orderAlfabeticallRetosDesc -&gt; ordena los retos alfabéticamente de forma descendente</li>
<li>orderDistanceAsc -&gt; ordena los retos por distancia de forma ascendente</li>
<li>orderDistanceDesc -&gt; ordena los retos por distancia de forma descendente</li>
<li>orderCantidadUsuariosAsc -&gt; ordena los retos por número de usuarios de forma ascendente</li>
<li>orderCantidadUsuariosDesc -&gt; ordena los retos por número de usuarios de forma descendente</li>
</ul>

<a href="#gestión-de-la-base-de-datos-persistente-con-lowdb" id="gestión-de-la-base-de-datos-persistente-con-lowdb" style="color: inherit; text-decoration: none;">
  <h2>Gestión de la base de datos persistente con LowDB</h2>
</a>
<p>Para la gestión de la base de datos vamos a utilizar el modulo LowDB el cual nos pertime en un fichero JSon local a nuestro proyecto almacenar las distintas colecciones de objetos que vamos a utilizar en nuestra aplicación. Para logarar esto hemos creado clases a partir de las colecciones de objetos que hemos creado anteriormente, estas clases se encargan de gestionar la base de datos y de realizar las operaciones CRUD sobre la misma. Estas clases son:</p>
<ul>
<li>jsonRouteCollection</li>
<li>jsonUserCollection</li>
<li>jsonRetosCollection</li>
<li>jsonRutasCollection</li>
</ul>
<p>En cada una de ellas se hace un extend de la clase original que gestiona cada colección de objetos, por ejemplo en la clase jsonRouteCollection se hace un extend de la clase routeCollection, esto nos permite utilizar los métodos de la clase original y añadir los métodos necesarios para la gestión de la base de datos. A continuación se muestra de ejemplo el código de la clase jsonRouteCollection:</p>
<pre><code class="language-typescript"><br/><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">jsonRouteCollection</span><span class="hl-2"> </span><span class="hl-3">extends</span><span class="hl-2"> </span><span class="hl-4">routeCollection</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">database</span><span class="hl-2">: </span><span class="hl-4">lowdb</span><span class="hl-2">.</span><span class="hl-4">LowdbSync</span><span class="hl-2">&lt;</span><span class="hl-4">schemaType</span><span class="hl-2">&gt;;</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-5">routeItems</span><span class="hl-2">: </span><span class="hl-4">Route</span><span class="hl-2">[] = []) {</span><br/><span class="hl-2">    </span><span class="hl-3">super</span><span class="hl-2">(</span><span class="hl-5">routeItems</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">database</span><span class="hl-2"> = </span><span class="hl-8">lowdb</span><span class="hl-2">(</span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">FileSync</span><span class="hl-2">(</span><span class="hl-7">&quot;./db/RouteItems.json&quot;</span><span class="hl-2">));</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">database</span><span class="hl-2">.</span><span class="hl-8">has</span><span class="hl-2">(</span><span class="hl-7">&quot;routes&quot;</span><span class="hl-2">).</span><span class="hl-8">value</span><span class="hl-2">())  { </span><span class="hl-0">// Si existe la base de datos</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">dbItems</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">database</span><span class="hl-2">.</span><span class="hl-8">get</span><span class="hl-2">(</span><span class="hl-7">&quot;routes&quot;</span><span class="hl-2">).</span><span class="hl-8">value</span><span class="hl-2">();</span><br/><span class="hl-2">      </span><span class="hl-5">dbItems</span><span class="hl-2">.</span><span class="hl-8">forEach</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2"> </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">idRuta_</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">Route</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">idRuta_</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">nombreRuta_</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">geoInicio_</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">geoFin_</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">longitudRutaKm_</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">desnivelMedio_</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">idUsuariosRuta_</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">tipoActividad_</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">calificacionMediaRuta_</span><span class="hl-2">)));</span><br/><span class="hl-2">      </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">database</span><span class="hl-2">.</span><span class="hl-8">get</span><span class="hl-2">(</span><span class="hl-7">&quot;routes&quot;</span><span class="hl-2">).</span><span class="hl-8">value</span><span class="hl-2">().</span><span class="hl-5">length</span><span class="hl-2"> + </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> { </span><span class="hl-0">// No existe la base de datos</span><br/><span class="hl-2">        </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">database</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-7">&quot;routes&quot;</span><span class="hl-2">, </span><span class="hl-5">routeItems</span><span class="hl-2">).</span><span class="hl-8">write</span><span class="hl-2">();</span><br/><span class="hl-2">        </span><span class="hl-5">routeItems</span><span class="hl-2">.</span><span class="hl-8">forEach</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2"> </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">.</span><span class="hl-5">idRuta</span><span class="hl-2">, </span><span class="hl-5">item</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">database</span><span class="hl-2">.</span><span class="hl-8">get</span><span class="hl-2">(</span><span class="hl-7">&quot;routes&quot;</span><span class="hl-2">).</span><span class="hl-8">value</span><span class="hl-2">().</span><span class="hl-5">length</span><span class="hl-2"> + </span><span class="hl-6">1</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Almacena las tareas en la base de datos</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> void</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-8">storeTasks</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">database</span><span class="hl-2">.</span><span class="hl-8">set</span><span class="hl-2">(</span><span class="hl-7">&quot;routes&quot;</span><span class="hl-2">, [...</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeMap</span><span class="hl-2">.</span><span class="hl-8">values</span><span class="hl-2">()]).</span><span class="hl-8">write</span><span class="hl-2">();</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Devuelve el siguiente id de la base de datos</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> number</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">getNextId</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">nextId</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>En el ejemplo he omitido el resto de métodos de la clase para no alargar el documento, pero se puede ver que se hace un extend de la clase original y se añaden los métodos necesarios para la gestión de la base de datos.</p>
<p>Lo importante y principal diferencia con el resto de clases es que en el constructor se realiza la gestión de la base de datos, en este caso se comprueba si existe la base de datos y en caso de que exista se carga en la colección de objetos, en caso contrario se crea la base de datos y se almacenan los objetos que se le pasan al constructor. También se añade un método para obtener el siguiente id de la base de datos, pues este id se utiliza para identificar cada objeto de la colección, esto es debido a que el usuario no es el encargado de autoasignar el id al objeto, sino que es el propio sistema el que se encarga de asignar el id al objeto.</p>
<p>En el resto de clases Json se realiza la misma gestión de la base de datos, es decir, en el constructor se comprueba si existe la base de datos y en caso de que exista se carga en la colección de objetos, en caso contrario se crea la base de datos y se almacenan los objetos que se le pasan al constructor.</p>
<p>Cada fichero Json esta alojado en la carpeta db, en la raíz del proyecto, y se encarga de almacenar los objetos de cada colección de objetos.</p>

<a href="#modulo-inquirer-para-la-gestión-de-la-interfaz-de-usuario" id="modulo-inquirer-para-la-gestión-de-la-interfaz-de-usuario" style="color: inherit; text-decoration: none;">
  <h2>Modulo Inquirer para la gestión de la interfaz de usuario</h2>
</a>
<p>Llegados a este punto vamos a utilizar el módulo Inquirer para la gestión de la interfaz de usuario, este módulo nos permite crear un menú de opciones para el usuario, en el cual el usuario puede seleccionar una opción y realizar una acción. Para ello vamos a crear una clase que se encargue de gestionar el menú de opciones.</p>
<p>Para esta interfaz gráfica vamos a crear diferentes <code>Prompts</code> para cada una de las opciones del menú, por ejemplo para la gestión avanzada de usuarios hemos creado el siguiente <code>Prompt</code>:</p>
<pre><code class="language-typescript"><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">function</span><span class="hl-2"> </span><span class="hl-8">InquirerUsers</span><span class="hl-2">(</span><span class="hl-5">userCollection</span><span class="hl-2">: </span><span class="hl-4">jsonUserCollection</span><span class="hl-2">) {</span><br/><br/><span class="hl-2">  </span><span class="hl-8">prompt</span><span class="hl-2">([</span><br/><span class="hl-2">    {</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;list&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">name:</span><span class="hl-2"> </span><span class="hl-7">&#39;orden&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">message:</span><span class="hl-2"> </span><span class="hl-7">&#39;¿Como quieres ordenar los usuarios?&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">choices:</span><span class="hl-2"> [</span><span class="hl-7">&#39;Alfabeticamente&#39;</span><span class="hl-2">, </span><span class="hl-7">&#39;Por KM&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">      </span><br/><span class="hl-2">    },</span><br/><br/><span class="hl-2">    {</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;list&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">name:</span><span class="hl-2"> </span><span class="hl-7">&#39;tipo&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">message:</span><span class="hl-2"> </span><span class="hl-7">&#39;¿Como quieres ordenar los usuarios?&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">choices:</span><span class="hl-2"> [</span><span class="hl-7">&#39;Ascendente&#39;</span><span class="hl-2">, </span><span class="hl-7">&#39;Descendente&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">    },</span><br/><br/><span class="hl-2">    { </span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;list&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">name:</span><span class="hl-2"> </span><span class="hl-7">&#39;frecuencia&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">message:</span><span class="hl-2"> </span><span class="hl-7">&#39;¿Qué frecuencia de kilometraje deseas ordenar?&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">choices:</span><span class="hl-2"> [</span><span class="hl-7">&#39;Semanal&#39;</span><span class="hl-2">, </span><span class="hl-7">&#39;Mensual&#39;</span><span class="hl-2">, </span><span class="hl-7">&#39;Anual&#39;</span><span class="hl-2">],</span><br/><span class="hl-2">      </span><span class="hl-8">when</span><span class="hl-5">:</span><span class="hl-2"> (</span><span class="hl-5">respuestas</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">respuestas</span><span class="hl-2">.</span><span class="hl-5">orden</span><span class="hl-2"> === </span><span class="hl-7">&#39;Por KM&#39;</span><br/><span class="hl-2">    }</span><br/><br/><br/><br/><br/><span class="hl-2">  ]).</span><span class="hl-8">then</span><span class="hl-2">((</span><span class="hl-5">respuesta</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> {</span><br/><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">respuesta</span><span class="hl-2">.</span><span class="hl-5">orden</span><span class="hl-2"> == </span><span class="hl-7">&#39;Alfabeticamente&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">respuesta</span><span class="hl-2">.</span><span class="hl-5">tipo</span><span class="hl-2"> == </span><span class="hl-7">&#39;Ascendente&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-8">table</span><span class="hl-2">(</span><span class="hl-5">userCollection</span><span class="hl-2">.</span><span class="hl-8">orderUsersAlfabeticallAsc</span><span class="hl-2">());</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">      </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-8">table</span><span class="hl-2">(</span><span class="hl-5">userCollection</span><span class="hl-2">.</span><span class="hl-8">orderUsersAlfabeticallDesc</span><span class="hl-2">());</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">respuesta</span><span class="hl-2">.</span><span class="hl-5">tipo</span><span class="hl-2"> == </span><span class="hl-7">&#39;Ascendente&#39;</span><span class="hl-2">) {</span><br/><br/><span class="hl-2">        </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">respuesta</span><span class="hl-2">.</span><span class="hl-5">frecuencia</span><span class="hl-2"> == </span><span class="hl-7">&#39;Semanal&#39;</span><span class="hl-2"> ){</span><br/><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-8">table</span><span class="hl-2">(</span><span class="hl-5">userCollection</span><span class="hl-2">.</span><span class="hl-8">orderUsersByKMDayAsc</span><span class="hl-2">());</span><br/><br/><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">respuesta</span><span class="hl-2">.</span><span class="hl-5">frecuencia</span><span class="hl-2"> == </span><span class="hl-7">&#39;Mensual&#39;</span><span class="hl-2"> ){</span><br/><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-8">table</span><span class="hl-2">(</span><span class="hl-5">userCollection</span><span class="hl-2">.</span><span class="hl-8">orderUsersByKMMonthAsc</span><span class="hl-2">());</span><br/><br/><span class="hl-2">        }</span><br/><br/><span class="hl-2">        </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-8">table</span><span class="hl-2">(</span><span class="hl-5">userCollection</span><span class="hl-2">.</span><span class="hl-8">orderUsersByKMYearAsc</span><span class="hl-2">());</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">      </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">respuesta</span><span class="hl-2">.</span><span class="hl-5">frecuencia</span><span class="hl-2"> == </span><span class="hl-7">&#39;Semanal&#39;</span><span class="hl-2"> ){</span><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-8">table</span><span class="hl-2">(</span><span class="hl-5">userCollection</span><span class="hl-2">.</span><span class="hl-8">orderUsersByKMDayDesc</span><span class="hl-2">());</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">respuesta</span><span class="hl-2">.</span><span class="hl-5">frecuencia</span><span class="hl-2"> == </span><span class="hl-7">&#39;Mensual&#39;</span><span class="hl-2"> ){</span><br/><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-8">table</span><span class="hl-2">(</span><span class="hl-5">userCollection</span><span class="hl-2">.</span><span class="hl-8">orderUsersByKMMonthDesc</span><span class="hl-2">());</span><br/><br/><span class="hl-2">        }</span><br/><br/><span class="hl-2">        </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-8">table</span><span class="hl-2">(</span><span class="hl-5">userCollection</span><span class="hl-2">.</span><span class="hl-8">orderUsersByKMYearDesc</span><span class="hl-2">());</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><span class="hl-8">MenuPrincipal</span><span class="hl-2">();</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">}</span>
</code></pre>
<p>Como podemos ver en el código anterior, se crea un <code>Prompt</code> con diferentes opciones, en este caso se crea un <code>Prompt</code> para la gestión avanzada de usuarios, en el cual el usuario puede seleccionar como quiere visualizar los usuarios, si los quiere ordenar , ya sea alfabeticamente o por kilometraje, y en caso de que elija ordenar por kilometraje, puede seleccionar la frecuencia de kilometraje, ya sea semanal, mensual o anual.</p>
<p>Estos pasos los hemos llevado a cabo con cada de las funcionalidades del menú, es decir, para cada una de las opciones del menú se ha creado un <code>Prompt</code> con las opciones que el usuario puede seleccionar.</p>

<a href="#clase-gestor" id="clase-gestor" style="color: inherit; text-decoration: none;">
  <h2>Clase Gestor</h2>
</a>
<p>En cuanto a la clase Gestor, se nos ha pedido una clase que se encargue de gestionar  el tratamiento de la información del sistema.</p>
<p>Para ello hemos creado esta clase gestor con cada uno de los requisitos que se nos han pedido:</p>
<ul>
<li><p>Ser capaz de que el usuario pueda registrarse en el sistema. Esto lo hemos realizado a través de un método que se encarga de crear un nuevo usuario y añadirlo a la base de datos, esto también se realiza a través de un <code>Prompt</code> que se encarga de pedir los datos al usuario y crear el nuevo usuario.</p>
</li>
<li><p>Visualizar todas las rutas que hay en el sistema. Para ello se ha creado un método que se encarga de mostrar todas las rutas que hay en la base de datos. También se ha creado un prompt para que el usuario pueda seleccionar una ruta y ver los detalles de la ruta.</p>
</li>
<li><p>Unirse a un grupo existente. Para ello se ha creado un método que se encarga de unir al usuario a un grupo existente, esto se realiza a través de un <code>Prompt</code> que se encarga de pedir los datos al usuario y unir al usuario al grupo.</p>
</li>
<li><p>Crear un grupo. Para ello se ha creado un método que se encarga de crear un nuevo grupo, esto se realiza a través de un <code>Prompt</code> que se encarga de pedir los datos al usuario y crear el nuevo grupo.</p>
</li>
<li><p>Borra un grupo. Para ello se ha creado un método que se encarga de borrar un grupo que haya sido creado por el usuario, esto se realiza a través de un <code>Prompt</code> que se encarga de pedir los datos al usuario y borrar el grupo.</p>
</li>
<li><p>Visualizar los grupos a los que pertenece. Para ello se ha creado un método que se encarga de mostrar los grupos a los que pertenece el usuario, esto se realiza a través de un <code>Prompt</code> que se encarga de pedir los datos al usuario y mostrar los grupos a los que pertenece.</p>
</li>
</ul>
<p>La clase gestor ha quedado de la siguiente manera:</p>
<pre><code class="language-typescript"><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Gestor</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">groupCollection</span><span class="hl-2">: </span><span class="hl-4">jsonGroupCollection</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">routeCollection</span><span class="hl-2">: </span><span class="hl-4">jsonRouteCollection</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">retosCollection</span><span class="hl-2">: </span><span class="hl-4">jsonRetosCollection</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">userCollection</span><span class="hl-2">: </span><span class="hl-4">jsonUserCollection</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">groupCollection</span><span class="hl-2"> = </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">jsonGroupCollection</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">routeCollection</span><span class="hl-2"> = </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">jsonRouteCollection</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">retosCollection</span><span class="hl-2"> = </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">jsonRetosCollection</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">userCollection</span><span class="hl-2"> =  </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-8">jsonUserCollection</span><span class="hl-2">();</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// propiedades temporales del usuario</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">nombreUsuario</span><span class="hl-2"> = </span><span class="hl-7">&quot;&quot;</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">actividadesUsuario</span><span class="hl-2">: </span><span class="hl-4">Actividad</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">amigos</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">[] = [-</span><span class="hl-6">1</span><span class="hl-2">];</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">estadisticas</span><span class="hl-2">: </span><span class="hl-4">stats</span><span class="hl-2"> = [[</span><span class="hl-6">0</span><span class="hl-2">,</span><span class="hl-6">0</span><span class="hl-2">],[</span><span class="hl-6">0</span><span class="hl-2">,</span><span class="hl-6">0</span><span class="hl-2">],[</span><span class="hl-6">0</span><span class="hl-2">,</span><span class="hl-6">0</span><span class="hl-2">]];</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Metodo para registrar un usuario en el sistema</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">registrarSistema</span><span class="hl-2">() {</span><br/><span class="hl-2">    ...</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Metodo para añadir amigos a un usuario</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">añadirAmigosUsuario</span><span class="hl-2">() {</span><br/><span class="hl-2">    ...</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Metodo para añadir estadisticas a un usuario</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">añadirEstadisticasUsuario</span><span class="hl-2">() {</span><br/><span class="hl-2">    ...</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Metodo para mostrar las rutas del sistema</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">mostrarRutas</span><span class="hl-2">() {</span><br/><span class="hl-2">    ...</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Metodo para mostrar los grupos del sistema</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> void</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">visualizarGrupos</span><span class="hl-2">() {</span><br/><span class="hl-2">    ...</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Metodo para crear un grupo</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> void</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-8">crearGrupo</span><span class="hl-2">(</span><span class="hl-5">idUsuario</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    ...</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">    </span><span class="hl-0">/**</span><br/><span class="hl-0">     * Metodo para borrar un grupo</span><br/><span class="hl-0">     * </span><span class="hl-3">@returns</span><span class="hl-0"> void</span><br/><span class="hl-0">     */</span><br/><span class="hl-2">    </span><span class="hl-8">ereaseGroup</span><span class="hl-2">(</span><span class="hl-5">idUsuario</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">      ...</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span>
</code></pre>

<a href="#conclusiones" id="conclusiones" style="color: inherit; text-decoration: none;">
  <h2>Conclusiones</h2>
</a>
<p>Para concluir, podemos decir que esta práctica ha sido muy útil para aprender a utilizar los <code>Prompts</code> y a utilizar la librería <code>Inquirer</code>, ya que nos ha permitido crear un menú interactivo con el usuario, y que el usuario pueda seleccionar las opciones que desee.</p>
<p>Además, hemos aprendido a utilizar la librería <code>Lowdb</code> para poder crear una base de datos en formato JSON, y poder guardar los datos de los usuarios, rutas, grupos y retos.</p>
<p>Por último, destacar que hemos reforzado los conocimientos que ya teníamos sobre la programación orientada a objetos, ya que hemos tenido que crear diferentes clases para poder gestionar los datos de los usuarios, rutas, grupos y retos. Además de poder poner en práctica todos los conocimientos que hemos adquirido en la asignatura sobre TypeScript.</p>

<a href="#referencias" id="referencias" style="color: inherit; text-decoration: none;">
  <h2>Referencias</h2>
</a>
<ul>
<li><a href="https://www.npmjs.com/package/inquirer">Inquirer</a></li>
<li><a href="https://www.npmjs.com/package/lowdb">Lowdb</a></li>
</ul>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">doc-<wbr/>test</a>
<ul>
<li class="tsd-kind-module"><a href="modules/funcionesInquirer_mainPrompt.html">funciones<wbr/>Inquirer/main<wbr/>Prompt</a></li>
<li class="tsd-kind-module"><a href="modules/funcionesInquirer_promptGroup.html">funciones<wbr/>Inquirer/prompt<wbr/>Group</a></li>
<li class="tsd-kind-module"><a href="modules/funcionesInquirer_promptRetos.html">funciones<wbr/>Inquirer/prompt<wbr/>Retos</a></li>
<li class="tsd-kind-module"><a href="modules/funcionesInquirer_promptRoutes.html">funciones<wbr/>Inquirer/prompt<wbr/>Routes</a></li>
<li class="tsd-kind-module"><a href="modules/funcionesInquirer_promptUsers.html">funciones<wbr/>Inquirer/prompt<wbr/>Users</a></li>
<li class="tsd-kind-module"><a href="modules/gestor_gestor.html">gestor/gestor</a></li>
<li class="tsd-kind-module"><a href="modules/group_classGroup.html">group/class<wbr/>Group</a></li>
<li class="tsd-kind-module"><a href="modules/group_group_collection.html">group/group-<wbr/>collection</a></li>
<li class="tsd-kind-module"><a href="modules/group_jsongroup_collection.html">group/jsongroup-<wbr/>collection</a></li>
<li class="tsd-kind-module"><a href="modules/retos_classRetos.html">retos/class<wbr/>Retos</a></li>
<li class="tsd-kind-module"><a href="modules/retos_jsonretos_collection.html">retos/jsonretos-<wbr/>collection</a></li>
<li class="tsd-kind-module"><a href="modules/retos_retos_collection.html">retos/retos-<wbr/>collection</a></li>
<li class="tsd-kind-module"><a href="modules/route_classRoute.html">route/class<wbr/>Route</a></li>
<li class="tsd-kind-module"><a href="modules/route_jsonroute_collection.html">route/jsonroute-<wbr/>collection</a></li>
<li class="tsd-kind-module"><a href="modules/route_route_collection.html">route/route-<wbr/>collection</a></li>
<li class="tsd-kind-module"><a href="modules/user_classUser.html">user/class<wbr/>User</a></li>
<li class="tsd-kind-module"><a href="modules/user_jsonuser_collection.html">user/jsonuser-<wbr/>collection</a></li>
<li class="tsd-kind-module"><a href="modules/user_user_collection.html">user/user-<wbr/>collection</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>